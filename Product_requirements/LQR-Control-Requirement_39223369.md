1. [Sous-Marin ASUQTR](index.html)
2. [Sous-Marin ASUQTR Knowledge Center](Sous-Marin-ASUQTR-Knowledge-Center_5144578.html)
3. [Product requirements](Product-requirements_20086786.html)

# Sous-Marin ASUQTR : LQR Control Requirement

Created by Bastien Cote, last modified by Gabriel Tremblay on Nov 19, 2020

||
<colgroup><col /><col /></colgroup>|---|
|Target release|V1.0|
|Epic|[![](https://jira.asuqtr.com/images/icons/issuetypes/epic.svg)ASUQTR-30](https://jira.asuqtr.com/browse/ASUQTR-30?src=confmacro) - Asservissement In Progress|
|Document status|DONE|
|Document owner|[Bastien Cote](https://confluence.asuqtr.com/display/~mysterfreeze)|
|Designer|[Bastien Cote](https://confluence.asuqtr.com/display/~mysterfreeze)|
|Developers|[Bastien Cote](https://confluence.asuqtr.com/display/~mysterfreeze)|
|QA|[Bastien Cote](https://confluence.asuqtr.com/display/~mysterfreeze)|

## Goals

* Develop an LQR position control system for the AUV

## Background and strategic fit

We need to control the AUV in the pool to be able to move in 4 degrees of freedom without a DVL (x and y coordinates are unknown without a DVL) or 6 degrees of freedom with a DVL.

We will find all the equations needed to make the LQR controller in those 2 books :

> **HANDBOOK OF MARINE CRAFT HYDRODYNAMICS AND MOTION CONTROL (Thor I. Fossen 2011)**
>
> **&**
>
> **Computer-aided control system design (Cheng Siong Chin 2013)**

PDF Book


You can find the two PDF books in *Google Drive ASUQTR > 2020-2021 > Asservissement*

## Assumptions

* The AUV has 8 motors
* We know the mechanical properties of the AUV (inertia, mass, radius, etc)
* We will use the linear and quadratic damping calculated by another AUV similar to ours
* The AUV is controllable
* The AUV will be under water

## Requirements

|||||
<colgroup><col /><col /><col /><col /></colgroup>|---|---|---|---|
|#|Title|Importance|Notes|
|1|Define forces applied on the AUV|Must-Have|<ul><li>Note all the forces exerted on the submarine</li><li>Create a matrix for all forces</li><li>Linear and quadratic damping, rigid body and added mass inertia, Coriolis force </li></ul>|
|2|Define the motor configuration|Must-Have|<ul><li>Set the current motor configuration in a matrix</li></ul>|
|3|Create the state-space of the AUV|Must-Have|<ul><li>Generate a state-space of the AUV with the forces and the motor configuration</li></ul>|
|4|Define the LQR Equations|Must-Have|<ul><li>Note how the LQR operates (in theory)</li><li>Use a block or a library in Simulink or Python</li></ul>|
|5|Test the model in Simulink|Must-Have|<ul><li>Use the simulator Richard did (6 DOF) in Simulink and adjust the parameters</li><li>Try it with and without X and Y positions</li><li>Tune the LQR in Simulink for position control (±2 degrees on angles)</li></ul>|
|6|Transfer the equations in Python|Must-Have|<ul><li>Talk with the software team to translate to Python code and adapt it to ROS</li><li>Use a library for the LQR function</li></ul>|
|7|Test the model in the pool|Must-Have|<ul><li>Tune the LQR by doing pool testing with the AUV</li></ul>|

## User interaction and design

![](https://i.gyazo.com/60cb9790f5424cd179497f514e4b3ee4.png)

### Thruster directions :

![](attachments/39223369/39223372.png)

## Attachments:

![](images/icons/bullet_blue.gif) [LQR Controller](attachments/39223369/39223376) (application/vnd.jgraph.mxfile)  
![](images/icons/bullet_blue.gif) [LQR Controller.png](attachments/39223369/39223377.png) (image/png)  
![](images/icons/bullet_blue.gif) [sub\_motor.png](attachments/39223369/39223372.png) (image/png)  
![](images/icons/bullet_blue.gif) [LQR Controller](attachments/39223369/41517196) (application/vnd.jgraph.mxfile)  
![](images/icons/bullet_blue.gif) [LQR Controller.png](attachments/39223369/41517197.png) (image/png)  
![](images/icons/bullet_blue.gif) [LQR Controller](attachments/39223369/39223370) (application/vnd.jgraph.mxfile)  
![](images/icons/bullet_blue.gif) [LQR Controller.png](attachments/39223369/39223371.png) (image/png)

Document generated by Confluence on May 02, 2023 17:22

[Atlassian](https://www.atlassian.com/)